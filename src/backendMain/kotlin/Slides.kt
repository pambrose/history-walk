import com.github.pambrose.slides.SlideDeck.Companion.slideDeck

val titlePage = """ 
    ## UGRR Scenario
    
    Jarm Logue, later known as Reverend Jermain W. Longuen
    
    *Ted Webb* <br>
    *Sven Miller*
"""

val majorDecision = """
      ## Major Decision
      
      You suffer a horrific and vicious beating, worse than others in 
      the past from your drunken, enraged owner that maims your face 
      (a mangled and broken jaw).  While you once thought of him as 
      family (your uncle) and that you were special, it is clear now 
      that that is not the case. You conclude that to stay much 
      longer would mean death. You are determined to escape sometime 
      in the coming months.
      
      Do you tell your intentions to your two best friends, fellow 
      slaves on the neighboring plantation?         
"""

val companionDecision = """
      ## Companion Decision
      
      Eager to join you, your friend John Farney asks around and says that 
      you should contact **first** (1) an ‘entrepreneurial’ (and maybe sympathetic?) 
      white man named Ross –– who offers to ‘obtain’ and provide forged free 
      papers and a pair of pistols (executable offenses for Ross) in exchange 
      for $10 dollars cash (a lot at the time!), bacon, flour, and other staples 
      and **second** (2) an elderly enslaved man named Ben, who is known for being 
      very wise.
      
      Will you risk beating, torture, or worse by stealing the items that Ross 
      wants in exchange for what he offers?      
"""

val decisionWhenToGo = """
      ## Decision When to Go
      
      * Will you leave in the summer, when the weather is warmest and you can easily sleep outdoors?
      * Will you leave in the autumn, hoping to slip away in the business and hub-bub of harvest time?  
      * Will you leave in the spring, when love is in the air?
      * Will you leave in the winter, right at Christmas, when it is coldest and darkest?
"""

// Slide 16
val rossEncounter = """
      ## Ross Encounter
              
      Having risked severe punishment, you have managed to steal some bacon, 
      flour, bread, fruit preserves, and 12 dollars (two of which you will keep).  
      In the past, you would not have dared to even think of stealing from your 
      former master, who was also your father.  But having been sold, along with 
      your mother and siblings, to one you thought of as an uncle and then to 
      have been subjected to savage beatings, you feel no remorse about the deed.  
      
      As instructed, you go to the dense thicket at the edge of town right near 
      dusk, when the light is low and it would be difficult for someone to spot 
      your meeting.  You call out, “Ross,” hoping that he’s there, fearing that 
      you will get caught, and worried that he might cheat you.  He asks if you 
      have what he wants, and when you nod and hold up a sack with the goods, 
      he steps up close and offers a linen bundle in exchange.  
      
      Do you complete the deal?
"""

val oldBenWhenToGo = """
      ## Old Ben: When to Go
      
      Old Ben, who has been on the plantation next door some time and is
      trusted by your partner, relays to him the advice that your chances
      to escape will be best at Christmas time. He argues that there are
      four good reasons:
      
      1) Demands for field work are down, so you won’t be as missed.
      2) Owners, as well as patrollers, are distracted and less vigilant,
      with people interested in family gatherings and feasting.
      3) The colder weather also means the patrollers will not be outdoors as often.
      4) There will be the greatest cover of darkness with longer nights.
      (That said, if you decide upon leaving in winter, you will need to make
      sure to have ample cold weather clothing — you might have to steal some.)  
      
      Sounds good, but then again, if he knew so much, why is he still here?
     
      When will you leave?
"""

val summerDeparture = """
      ## Summer Departure
      
      The summer heat offers the appeal of warm nights that will make it easier 
      to sleep outdoors.  Potentially, cross-country travel might be easier.
      
      Will you...
"""

// Slide 10
val autumnDeparture = """
      ## Autumn Departure
      
      As harvest time come along, you decide to make your move, hoping to take advantage 
      the heightened activity and slip away in the mix. Initially, it seems that you are 
      successful, making your way off the plantation and down the road into the countryside.    
      However, as you near the brushy cover on outskirts of the next hamlet, a quick rustling 
      sound precedes…
"""

val springDeparture = """
      ## Spring Departure
      
      In springtime, it is said that thoughts turn romance and courting, distracting one from 
      ordinary, difficult, or boring tasks.  That is your hope, anyway, as you seek to escape 
      while adversaries are hopefully off their guard.  However, such is not the case. It seem 
      that you were spotted.  At the sound of the harsh braying of pursuing hounds, you flee 
      blindly into the brush, emerging to…
"""

val summerCrossCountry = """
      ## Summer Cross-Country
      
      At first your flight is nearly pleasant, a stroll through the fields.  
      But soon the terrain gets rougher, with thicker brush that blocks sight, 
      rough ground that bruises the feet, and an increasing number of trees start 
      to affect your sense of direction.
      
	    You are lost. Suddenly, at the sound of the harsh braying of pursuing hounds, 
      you flee blindly.
      
      Where do you go?
"""

// Slide 13
val winterDepartureAlone = """
      ## Winter Departure Alone
      
      Will you try to steal an overcoat in order to survive the elements as you hopefully head… North?
"""

val winterCrossCountry = """
      ## Winter Cross-Country  
      
      The winter is harsh, and as the freezing wind blows your toes begin to go numb, 
      but fear of the slave-catchers and their dogs drives you deeper into the wilderness.  
      But soon the terrain gets rougher, the snow drifts get deeper, the brush blocks your sight, 
      and an increasing number of trees start to affect your sense of direction.
      
	    You are lost. Suddenly, at the sound of the harsh braying of pursuing hounds, you flee blindly.
      
      Where do you go?
"""

// Slide 14
val stealOvercoat = """
      ## Steal Overcoat
      
      That evening, you creep into the main household, enter the coat room, and grab 
      your master’s finest winter coat.
      
	    Striding outside, toasty warm and with a sense of accomplishment, you begin your journey.

      You decide to go…
"""

// Slide 9
val fleeIntoDeepForestEnd = """
      ## Flee into the Deep Forest
      
      You dash into the deep forest, gasping for air, as the sound of hounds follow you.  
      You begin to panic as the sounds get louder and closer.
      
	    Suddenly, they are upon you. The hounds grab you by the legs and then rip you 
      into shreds. 
      
      THE END.
"""

// Slide 12
val paddyRollersEnd = """
      ## Paddy Rollers
      
      You are surprised by the sudden appearance of four ‘paddy rollers,’ as slave-catchers 
      were sometimes called, who were waiting to ambush you.  Speedily they seize you up, 
      bind you, and, after torturing you for information, return you to your owner for a reward.  
      He then cruelly punishes you for trying to escape.  
      
      THE END.
"""

// Slide 22
val majorEncounterFleePatrolEnd = """
      ## Major Encounter: Flee Patrol
      
      As you turn to run, you hear the loud blast of a pistol, following by an hot, stabbing 
      pain in your thigh.  Stumbling and and falling, you fumble futilely for some weapon.  
      The pain is overwhelming and the bleeding great.  As your vision begins to blur, you 
      know that you will awaken either back at the plantation or in the hereafter… 
      
      THE END.
"""

// Slide 23
val majorEncounterFightFirstPatrolEnd = """
      ## Major Encounter: Fight 1st Patrol
      
      You and your companion boldly respond by trying to throw the men from their horses.
      
      Melee ensues, and you find yourself beaten to a pulp, shortly to be bound, strapped 
      to the back of horse, and taken back to the plantation. 
      
      THE END.
"""

// Slide 25
val majorEncounterBluffPatrol = """
      ## Major Encounter: Bluff Patrol
      
      You try to explain that you have been sent on a mission by your master, which was 
      not an uncommon occurrence.  However, the man with a rifle demands to see your 
      travel papers.  You have none.
		
      Having failed at bluffing, will you…
"""

// Slide 20
val majorEncounterPatrol = """
      ## Major Encounter: Patrol
      
	    Rounding the bend on the main road that you have been following, you come to a crossroads 
      just as two men ride up from the side, one with a rifle slung across back.  They quickly 
      pull along side, grab the reins of your horses, and begin to question you aggressively, 
      demanding to see your passes, to know your origins and destination, and to learn your 
      intentions.
      
      Do you...
"""

// <img src="https://www.nps.gov/articles/000/images/Runaway-Slave-Advertisement-1_Columbus-Democrat-Columbus-MS-_18-August-1838_2.jpg" alt="Pic" width="300" height="400" style="border:5px solid black"/>


val slides =
  slideDeck {

    // Slide 12
    val slide12_paddy_rollers_end = slide("Paddy Rollers", paddyRollersEnd)

    // Slide 1
    slide("UGRR Scenario", titlePage, root = true) {
      choice(
        "Continue",
        // Slide 2
        slide("Major Decision", majorDecision) {
//          choice(
//            "Test c.copyOf()",
//            slide12_paddy_rollers_end.copyOf()
//          )

          choice("Done", slide("Done", "Done", success = true))

          choice(
            "Yes, tell your two best friends",
            // TODO The first two choices are the same
            // Slide 3
            slide("Companion Decision", companionDecision) {
              choice("Yes, take your chances and go meet with Ross then meet with Ben",
                // Slide 16
                slide("Ross Encounter", rossEncounter) {
                  choice(
                    "Yes",
                    // Slide xxx
                    slide("Ross Advice")
                  )
                  choice(
                    "No",
                    // Slide xxx
                    slide("Old Ben Via Ross")
                  )
                }
              )

              choice(
                "Yes, take your chances, but skip talking to Ben and just go to meet with Ross",
                // Slide 16
                slide("Ross Encounter", rossEncounter) {
                }
              )

              choice(
                "No, skip Ross and just go to Old Ben",
                // Slide 6
                slide("Go To Old Ben", oldBenWhenToGo) {
                  choice(
                    "Leave in the summer, when the weather is warmest and you can easily sleep outdoors",
                    // Slide 7
                    slide("Summer Departure", summerDeparture) {
                      choice(
                        "Continue on the main road, with the risk of encountering patrol",
                        slide12_paddy_rollers_end.copyOf()
                      )
                      choice(
                        "Go off-track, cross-country, with the risk of getting lost",
                        // Slide 8
                        slide("Summer Cross-Country", summerCrossCountry) {
                          choice(
                            "Into the deep forest",
                            // Slide 9
                            slide("Deep Forest", fleeIntoDeepForestEnd)
                          )
                          choice("Back to the main road", slide12_paddy_rollers_end.copyOf())
                        }
                      )
                    }
                  )

                  choice(
                    "Leave in the autumn, hoping to slip away in the business and hub-bub of harvest time",
                    // Slide 10
                    slide("Autumn Departure", autumnDeparture) {
                      choice("Continue", slide12_paddy_rollers_end.copyOf())
                    }
                  )
                  choice("Leave in the spring, when love is in the air", slide12_paddy_rollers_end.copyOf())
                  choice(
                    "Follow Old Ben’s advice and leave in the winter, right at Christmas, when it is coldest and darkest",
                    // Slide 13
                    slide("Winter Departure", winterDepartureAlone) {
                      choice(
                        "Yes, steal an overcoat",
                        // Slide 14
                        slide("Steal an Overcoat", stealOvercoat) {
                          choice(
                            "On the Main Road",
                            // Slide 20
                            slide("Main Road", majorEncounterPatrol) {
                              choice(
                                "Flee",
                                // Slide 22
                                slide("Major Encounter Flee Patrol", majorEncounterFleePatrolEnd)
                              )
                              choice(
                                "Fight",
                                // Slide 23
                                slide("Major Encounter: Fight 1st Patrol", majorEncounterFightFirstPatrolEnd)
                              )
                              choice(
                                "Bluff (talk your way out of the situation)",
                                // Slide 25
                                slide("Major Encounter: Bluff Patrol", majorEncounterBluffPatrol) {
                                  choice(
                                    "Flee",
                                    // Slide 22
                                    slide("Major Encounter: Flee Patrol", majorEncounterFleePatrolEnd)
                                  )
                                  choice(
                                    "Fight",
                                    // Slide 23
                                    slide("Major Encounter: Fight 1st Patrol", majorEncounterFightFirstPatrolEnd)
                                  )
                                }
                              )
                            }
                          )
                          choice(
                            "Cross-Country",
                            // Slide 15
                            slide("Cross-Country")
                          )
                        }
                      )
                      choice("No, go on the main road", slide12_paddy_rollers_end.copyOf())
                      choice(
                        "No, go cross-country",
                        // Slide 15
                        slide("Winter Cross-Country", winterCrossCountry) {
                          choice(
                            "Into the deep forest",
                            // Slide 9
                            slide("Deep Forest", fleeIntoDeepForestEnd)
                          )
                          choice("Back to the main road", slide12_paddy_rollers_end.copyOf())
                        }
                      )
                    }
                  )
                }
              )

              choice(
                "No, play it safe and seek escape without talking to Ross or Ben",
                // Slide 4
                slide("Decision: When to Go", decisionWhenToGo)
              )
            })

          choice(
            "No, do not tell your two best friends",
            // Slide 4
            slide("Decision: When to Go", decisionWhenToGo) {
              choice(
                "Summer Departure",
                // Slide 7
                slide("Summer Departure", summerDeparture)
              )
              choice("Autumn Departure",
                // Slide 10
                slide("Autumn Departure", autumnDeparture) {
                  choice("Continue", slide12_paddy_rollers_end.copyOf())
                })
              choice("Spring Departure",
                // Slide 11
                slide("Spring Departure", springDeparture) {
                  choice("Continue", slide12_paddy_rollers_end.copyOf())
                })
              choice("Winter Departure",
                // Slide 13
                slide("Winter Departure", winterDepartureAlone) {

                })
            }
          )
        },
      )
    }
  }
